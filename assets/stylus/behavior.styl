@import 'nib'

$darker-accent= #95c200;

quick()
	transition-property: all
	transition-duration: .25s
	transition-timing-function: ease


*, *::before, *::after
	box-sizing: border-box

body
	margin:0
	padding:0
	overscroll-behavior: none
	background-color:#eee;
	//background-image:url(/images/square_bg_big.png);
	background-attachment: fixed;

a
	color: #333

h1,h2,h3,h4
	margin-top: 0

// ajax calls add this class to the body while loading
.wait
	cursor: wait!important
	a
		cursor: wait!important

// room for nav bar
.top-margin
	margin-top: 64px
	.screen-xsmall &
		margin-top: 56px

.drawer-top
	top: 64px
	.screen-xsmall &
		top: 56px

.page-content
	background-color: white
	min-height: calc(80vh - 200px)
	padding:1em
	.not-screen-xsmall &
		margin-left:2em
		margin-right:2em

// color for active items such a nav bar notifications icon
.highlight
	color:$darker-accent

// dreaded red dot item count
.badge
	font-size:12px
	height:18px
	border-radius(8px)
	background-color:red
	color:white
	position:absolute
	top:10px
	right:10px
	padding:2px
	padding-left:4px
	padding-right:4px

// section separator
section
	margin: .5rem 0

// bar with multiple buttons add right margin between buttons
.button-bar
	.mdc-button:not(:last-child)
		margin-right:1em

// clear floats
.clear-fix
	&::after
		display: block
		content: ""
		clear: both

.pull-left
	float:left

.pull-right
	float:right

.center
	text-align:center

.centered
	margin: 0 auto

.truncate
	white-space: nowrap
	overflow: hidden
	text-overflow: ellipsis

.full-width
	width:100%

// icon/text alignment
h2
	i
		font-size: 30px!important
		vertical-align: text-bottom

// form post error notifications

.ajax-errors
	margin-top: 30px
	i
		font-size:18px
		vertical-align: text-bottom

.ajax-message
	color: blue
.ajax-message-error
	color: red
.ajax-message-success
	color: $darker-accent

// form layout and geometry

.reg-form-container
	max-width: 516px
	.reg-form
		background-color:white
		border-radius: 4px
		padding: 1em
		.mdc-text-field
			height: 56px
			width: 100%
		.form-group
			position:relative
			margin-top: 1em
	.reg-form-footer
		padding-top: 1em
		text-transform: uppercase
	label
		text-transform: uppercase

// show/hide content bassed on login/subscriber status

.have-account
	.hidden-have-account
		display:none!important
.dont-have-account
	.hidden-dont-have-account
		display:none!important

.is-logged-in
	.hidden-logged-in
		display:none!important
.is-logged-out
	.hidden-logged-out
		display:none!important

.is-subscriber
	.hidden-is-subscriber
		display:none!important
.not-subscriber
	.hidden-not-subscriber
		display:none!important

.is-admin
	.hidden-admin
		display:none!important
.not-admin
	.hidden-not-admin
		display:none!important

// make autofill less horrifyingly ugly

input:-webkit-autofill,input:-webkit-autofill:hover, input:-webkit-autofill:focus,textarea:-webkit-autofill,textarea:-webkit-autofill:hover,textarea:-webkit-autofill:focus,select:-webkit-autofill,select:-webkit-autofill:hover,select:-webkit-autofill:focus
	-webkit-text-fill-color: rgba(0, 0, 0, 0.87)
	-webkit-box-shadow: 0 0 0px 1000px #fff inset
	transition: background-color 5000s ease-in-out 0s

// alerts
.alert
	background-color: #333
	color: #eee
	padding: 1em;
	border: thin solid black
	border-radius: 4px

// form validation indicators and help prompts managed by jsclass formValidator.js

.form-validation
	.input-relative
		position:relative

	.input-ok-indicator
		position:absolute
		top: 7px
		right: 7px
		opacity: 0
		color: $darker-accent!important

	.input-ok
		.input-ok-indicator
			opacity:.5

	.validation-help
		height: 18px
		font-size: .75em
		opacity: 0
		pointer-events:none
		color:#b00020

	.input-error
		&.touched
			.validation-help
				opacity:1

	.mdc-select
		.mdc-select__dropdown-icon
			right: 48px
		.input-ok-indicator
			position: absolute
			right: 12px
			z-index: 1000
			top: 12px

// splash screen to cover js boot
#splash
	position: fixed
	top:0
	left:0
	right:0
	bottom:0
	background-color:#333
	z-index:99999
	#splash-logo
		margin: 24vh auto
		color:#999
		text-align: center
		i
			font-size: 10em

/* alerts slide-down */
#user-alerts
	quick()
	position:fixed
	top: -100%
	right:0px
	width: 60vw
	max-width: 300px
	height: calc(100vh - 64px)
	background-color:white
	.screen-xsmall &
		height: calc(100vh - 56px)
	&.open
		top:64px
		.screen-xsmall &
			top:56px


/* flextable */
.flextable
	display:none
	table
		border: thin solid #dddddd
		border-collapse: separate
		*border-collapse: collapse
		border-radius: 4px
		border-left:0
		border-spacing: 0
		th,td
			padding: .5em
			border-left:thin solid #dddddd
		th
			border-bottom:thin solid #dddddd
		tr:not(:last-child)
			td
				border-bottom:thin solid #dddddd

.flextable-row
	&:hover
		cursor: pointer
		background-color: #eee

.flextable-header
	text-align:left

.flextable-row-header
	font-weight: bold

.screen-xsmall .flextable-row-header
	text-align: left

.not-screen-xsmall .flextable-row-header
	text-align: center

.admin
	table
		width: 100%
		border: thin solid #dddddd
		border-collapse: separate
		*border-collapse: collapse
		border-radius: 4px
		border-left:0
		border-spacing: 0
		th,td
			padding: .5em
			border-left:thin solid #dddddd
			img
				max-height: 200px
				width:auto
		th
			border-bottom:thin solid #dddddd
		tr:not(:last-child)
			td
				border-bottom:thin solid #dddddd

.admin-form-container
	max-width: 900px
	.admin-form
		background-color:white
		border-radius: 4px
		padding: .5em
		input[type="text"],textarea
			font-size:1em
			width: 100%
			padding: .5em
		select
			margin-top: .5em
			font-size: 1em
			min-width: 80%
		input[type="file"]
			margin-top: .5em
			font-size: 1em
		.form-group
			position:relative
		.mdc-switch
			margin: 1em
	.admin-form-footer
		padding-top: 1em
		text-transform: uppercase
	.label
		vertical-align:top
		text-align:right
		padding-top:18px
		text-transform: uppercase

	.uploadable-preview
		display:inline-block
		img
			margin-right:10px
			vertical-align:middle
	.uploadable-form
		display:inline-block
